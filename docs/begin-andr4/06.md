# 六、增强您的第一个项目

Android 为您的第一个项目生成的`AndroidManifest.xml`文件完成了这项工作。但是，对于生产应用，您可能希望考虑添加一些属性和元素，如本章所述。

### 支持多种屏幕尺寸

Android 设备的屏幕尺寸范围很广，从 2.8 英寸的微型智能手机到 46 英寸的谷歌电视。Android 根据物理屏幕大小和通常观看的距离将它们分为四类:

*   *小*:3 英寸(7.5 厘米)以下，至少 426×320dp 分辨率
*   *普通* : 3 英寸(7.5 厘米)到 4.5 英寸(11.5 厘米)左右，至少 470×320dp 分辨率
*   *大* : 4.5 英寸(11.5 厘米)到 10 英寸(25 厘米)左右，至少 640×480dp 分辨率
*   *超大*:10 英寸(25 厘米)以上，至少 960×720dp 分辨率

默认情况下，您的应用将不支持小屏幕，将支持普通屏幕，并可能通过 Android 内置的一些代码支持大屏幕和超大屏幕，这些代码可以自动将应用转换、缩放和调整大小到更大的屏幕上。

为了真正支持您想要的所有屏幕尺寸，您应该考虑在您的清单文件中添加一个`<supports-screens>`元素。这将枚举您明确支持的屏幕尺寸。例如，如果你想支持小屏幕，你需要包含`<supports-screens>`元素。类似地，如果您正在为大型或超大屏幕提供定制 UI 支持，您将希望拥有带有适当子元素的`<supports-screens>`元素。因此，虽然起始清单文件中的默认设置可以工作，但是您应该考虑添加对处理多种屏幕尺寸的支持。

关于为所有屏幕尺寸提供稳固支持的更多信息可以在第二十五章中找到。

### 指定版本

如前一章所述，您的清单已经包含了一些关于应用版本的信息。然而，您可能希望在您的`AndroidManifest.xml`文件中添加一个`<uses-sdk>`元素作为`<manifest>`元素的子元素，以指定您的应用支持哪个版本的 Android。默认情况下，假设您的应用支持从 1.0 到当前 3.0 以及未来任何版本的所有 Android 版本。很可能，这不是你想要的。

您的`<uses-sdk>`元素最重要的属性是`android:minSdkVersion`。这表明你提供支持的 Android 的最老版本是什么。如果您愿意的话，它会与您用来测试应用的最老版本进行通信。属性的值是表示 Android SDK 版本的整数:

*   `1` : Android 1.0
*   `2` : Android 1.1
*   `3` : Android 1.5
*   `4` : Android 1.6
*   `5` : Android 2.0
*   `6` : Android 2.0.1
*   `7` : Android 2.1
*   `8` : Android 2.2
*   `9` : Android 2.3
*   `10` : Android 2.3.3
*   `11` : Android 3.0
*   `12` : Android 3.1
*   `13` : Android 3.2
*   `14` : Android 4.0

因此，如果您只在 Android 2.1 和更高版本的 Android 上测试您的应用，您应该将`android:minSdkVersion`属性设置为`7`。

从 Android 3.2 开始，提供了一种替代方法来更准确地指定屏幕布局的空间要求。这些属性指定最小宽度`sw<N>dp`、可用宽度`w<N>dp`和可用高度`h<N>dp`(其中`N`是像素数)。起初，使用这些规定的选项可能看起来更复杂，但是对于许多设计者来说，更自然的是设计布局和一组功能，然后确定最小和最接近像素的最佳尺寸以满足表示要求。

您可能还希望指定一个`android:targetSdkVersion`属性。这表明当你写代码时，你的目标是哪个版本的 Android。如果你的应用运行在一个新版本的 Android 上，Android 可能会做一些事情来改善你的代码与新版本 Android 的兼容性。因此，举例来说，你可以指定`android:targetSdkVersion="10"`，表明你正在用 Android 2.3.3 编写你的应用；如果有一天你的应用在 Android 3.0 设备上运行，Android 可能会采取一些额外的措施来确保你的 2.3.3 为中心的代码在 3.0 设备上正确运行。特别是，为了获得在 Android 3.0(或更高版本)平板电脑上运行时的平板电脑外观，您需要指定目标 SDK 版本的`11`或更高版本。这个主题将在第二十六章和第二十七章中详细介绍。
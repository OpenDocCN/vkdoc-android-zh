# 五、游戏开发简介

在 Android 上开发游戏有利有弊。在开始之前，你应该意识到这些利弊。第一，安卓游戏是用 Java 开发的，但不是全 Java。您在过去的 Java 开发中可能用过的许多包都包含在 Android SDK 中；但是一些对游戏开发者，尤其是 3D 游戏开发者有帮助的包并不包括在内。因此，并不是所有你以前用来制作游戏的包都可以在 Android 中使用。当然，这是假设你已经在某种程度上尝试过 Java 游戏开发。如果这是你第一次接触任何语言的游戏开发概念，你可能会有优势，因为你不会有那种依赖甚至可能不适用于 Android 的包的精神支柱。

随着每个新的 Android SDKs 的发布，越来越多的包变得可用。您将需要知道您必须使用哪些包；我们将涉及这些，因为它们与章节中的主题相关。

另一个支持者和另一个反对者关注 Android 的熟悉度和它的缺乏力量。Android 在编程的熟悉性和易用性方面提供了什么，它可能在速度和功能方面有所欠缺。大多数视频游戏，如为 PC 或控制台编写的游戏，都是用低级语言开发的，如 C 语言，甚至(部分)汇编语言。这使得开发人员能够最大程度地控制处理器如何执行代码以及代码运行的环境。处理器说的是非常低级的代码，你越接近处理器的母语，你需要跳过的解释器就越少。Android 虽然提供了有限的底层编码能力，但它通过自己的执行系统解释和线程化 Java 代码。这使得开发者对游戏运行环境的控制更少。

这本书不会带你经历游戏开发的低级方法。Java ，尤其是为一般 Android 开发而呈现的，广为人知，易于使用，并且可以自己创建一些有趣、有益的游戏。

本质上，如果你已经是一个经验丰富的 Java 开发人员，那么你的技能在应用到 Android 上时不会在翻译中丢失。如果您还不是经验丰富的 Java 开发人员，不要害怕。Java 是一种很好的开始学习的语言。

既然你已经了解了 Android 开发的利弊，那么让我们来讨论游戏开发的第一个基本概念:游戏引擎。

## 游戏引擎

每个视频游戏的核心都是游戏引擎 ，而那个游戏引擎的一部分就是游戏循环。顾名思义，*游戏引擎*是为游戏提供动力的代码，而*游戏循环*是游戏引擎中的一段代码，它重复运行并执行组成游戏的所有功能。

每一款游戏，无论是什么类型的游戏——无论是角色扮演游戏(RPG) ，第一人称射击游戏，还是平台游戏——都需要一个功能齐全的游戏引擎和游戏循环来运行。游戏引擎通常在自己的线程上运行，这使得它可以访问尽可能多的资源。游戏循环通常从应用程序的主活动开始执行。

游戏引擎处理游戏执行的所有繁重工作:从播放音效和背景音乐到在屏幕上渲染图形。以下是典型游戏引擎执行的部分功能列表:

*   图形渲染
*   动画
*   声音
*   冲突检出
*   人工智能
*   物理学(非碰撞)
*   线程和内存
*   建立关系网
*   命令解释程序

所有游戏都在一个代码循环中执行。这个循环执行得越快，游戏运行得就越好，对玩家的反应就越快，屏幕上的动作就越流畅。

## 游戏循环

构建和绘制屏幕、移动游戏对象、计算分数、检测碰撞以及验证或无效项目所需的所有代码都在游戏循环中执行。

典型的游戏循环可以执行以下操作:

*   解释输入设备的命令
*   跟踪人物和/或背景，以确保没有人移动到他们不应该移动的地方
*   测试对象之间的碰撞
*   根据需要移动背景
*   绘制背景
*   画任意数量的固定物品
*   计算任何移动物体的物理性质
*   移动任何重新放置的武器/子弹/物品
*   拔出武器/子弹/物品
*   独立移动角色
*   画人物
*   播放音效
*   剥离连续背景音乐的线程
*   追踪玩家的分数
*   跟踪和管理联网或多个玩家

这可能不是一个全面的列表，但它是一个相当好的列表，列出了游戏循环中预期要做的所有事情。

提炼和优化你所有的游戏代码是很重要的。你的循环越优化，它执行所有调用的速度就越快，给你最好的游戏体验。

下一章将介绍 OpenGL ES，它对你的游戏意味着什么，以及它的作用。